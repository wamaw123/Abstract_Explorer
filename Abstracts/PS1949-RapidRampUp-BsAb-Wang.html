<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="study:id" content="rapid-ramp-up-bsab-wang-ps1949">
    <meta name="study:title" content="PS1949 - Rapid ramp-up of bi-specific antibodies in R/R LBCL">
    <meta name="study:fileName" content="Abstracts/PS1949-RapidRampUp-BsAb-Wang.html">
    <meta name="study:cancerTypes" content="DLBCL,HGBCL,LBCL,B-NHL">
    <meta name="study:lineOfTherapy" content="3L+">
    <meta name="study:evidenceType" content="Real-world evidence">
    <meta name="study:drugs" content="Epcoritamab,Glofitamab,Bispecific antibodies,Obinutuzumab,Monoclonal Antibody">

    <title>PS1949: Rapid Ramp-up of Bi-Specific Antibodies in R/R LBCL (Wang) - SOBI Themed</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="abstract_styles.css">
</head>
<body class="abstract-page-body">
    <div class="slide-container">
        <div class="visual-abstract-container">
            <h2 class="visual-abstract-title">Visual Summary: PS1949 - Rapid Ramp-up of Bispecific Antibodies in R/R LBCL</h2>
            <div class="visual-abstract-grid">
                <div class="visual-abstract-item">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="var(--sobi-teal)"> <path d="M12 6.096c-1.058 0-2.02.468-2.704 1.248-.685.78-.996 1.788-.996 2.856s.311 2.076.996 2.856C9.98 13.84 10.942 14.31 12 14.31s2.02-.468 2.704-1.248.996-1.788.996-2.856-.311-2.076-.996-2.856C14.02 6.564 13.058 6.096 12 6.096zM12 12.81c-.53 0-1.008-.222-1.352-.588-.344-.366-.528-.852-.528-1.422s.184-1.056.528-1.422C10.992 9.012 11.47 8.79 12 8.79s1.008.222 1.352.588.528.852.528 1.422-.184-1.056-.528 1.422C13.008 12.588 12.53 12.81 12 12.81zm6.708 3.672A7.47 7.47 0 0012.024 15c-1.404 0-2.706.39-3.816 1.056A4.476 4.476 0 004.5 19.686V21h15v-1.314a4.476 4.476 0 00-3.792-3.624zM6.024 16.56c.84-.468 1.848-.768 2.904-.924A5.928 5.928 0 0112.024 15a5.928 5.928 0 013.096.636c1.056.156 2.064.456 2.904.924A2.988 2.988 0 0019.5 18.018V19.5h-15v-1.482a2.988 2.988 0 001.524-2.458zM4.5 7.032c0-1.068.312-2.076.996-2.856S7.2 3 8.256 3A7.47 7.47 0 0112.024 1.5c1.404 0 2.706.39 3.816 1.056A4.476 4.476 0 0119.5 6.186V7.5H4.5v-.468zM18 4.56c-.84.468-1.848.768-2.904-.924A5.928 5.928 0 0012.024 6a5.928 5.928 0 00-3.096.636 7.524 7.524 0 00-2.904.924A2.988 2.988 0 014.5 7.482V6H3V4.5A1.5 1.5 0 014.5 3h15A1.5 1.5 0 0121 4.5V6h-1.5v1.482a2.988 2.988 0 01-1.524 2.458L18 4.56z" />
                    </svg>
                    <h4>Population & Aim (N=35)</h4>
                    <p>R/R LBCL Pts (DLBCL, tDLBCL, DHL). Aim: Evaluate feasibility of rapid BsAb ramp-up.</p>
                </div>
                <div class="visual-abstract-item">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" fill="var(--sobi-teal)">
                        <path d="M32 60 V40 M20 40 L32 40 L44 40 M20 40 L12 28 L4 20 M44 40 L52 28 L60 20 M12 28 L16 24 M52 28 L48 24" stroke="var(--sobi-teal)" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                        <circle cx="4" cy="20" r="3" fill="var(--sobi-orange)"/><circle cx="60" cy="20" r="3" fill="var(--sobi-yellow)"/>
                    </svg>
                    <h4>Intervention</h4>
                    <p>Epcoritamab or Glofitamab. Rapid ramp-up (q2-4d vs standard q7d). Median time to full dose 7 days.</p>
                </div>
                <div class="visual-abstract-item">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="var(--sobi-orange)"> <path d="M3 13.5a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 13.5zM3 8.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 8.25zM3 18.75a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 18.75zM20.25 3a.75.75 0 00-.75.75v16.5a.75.75 0 001.5 0V3.75a.75.75 0 00-.75-.75z" />
                        <path fill-rule="evenodd" d="M9.97 4.28a.75.75 0 01.75-.75H12a.75.75 0 01.75.75v10.174l3.108-3.293a.75.75 0 111.084 1.038l-4.5 4.75a.75.75 0 01-1.084 0l-4.5-4.75a.75.75 0 111.084-1.038L9.97 14.454V4.28z" clip-rule="evenodd" />
                    </svg>
                    <h4>Key Efficacy (N=28 Evaluable)</h4>
                    <p>ORR: <span class="highlight-value">50%</span>, CR: <span class="highlight-value">21.4%</span>. mF/U 5.7 mo. 3-mo PFS 40.2%, OS 62.2%.</p>
                </div>
                <div class="visual-abstract-item">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="var(--sobi-orange)"> <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-.092 14.444a.75.75 0 01-.092 0l-3.75-3.75a.75.75 0 111.06-1.06L12 14.813l3.182-3.182a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-.53.22z" clip-rule="evenodd" />
                    </svg>
                    <h4>Safety & Conclusion</h4>
                    <p>Feasible. CRS 45.7% (Gr3 2.9%), ICANS 14.3% (Gr3 8.6%). Comparable rates to standard ramp-up. Promising.</p>
                </div>
            </div>
        </div>

        <div class="text-center mb-8">
            <h1 class="abstract-header-title">PS1949 - Rapid ramp-up of bi-specific antibodies in relapsed or refractory large B-cell lymphoma</h1>
            <p class="abstract-sub-header">Yucai Wang, Adrienne Nedved, Melissa Larson, et al.</p>
            <p class="abstract-meta-info mt-2">EHA 2025 Congress | Abstract #PS1949 | Poster Presentation</p>
        </div>

        <div class="grid md:grid-cols-2 gap-x-8 gap-y-6">
            <div>
                <div class="abstract-card">
                    <h2 class="abstract-section-title">Background</h2>
                    <ul class="list-disc list-inside text-sm space-y-1 pl-2">
                        <li>The CD3/CD20 bi-specific antibodies (BsAb) epcoritamab and glofitamab are FDA approved for treatment of relapsed or refractory (R/R) large B-cell lymphoma (LBCL).</li>
                        <li>Their dosing typically involves weekly ramp-up to reach full dose at the 3rd dose.</li>
                        <li>For patients with R/R LBCL with aggressive presentation, it is appealing to ramp up BsAb faster to reach full dose.</li>
                    </ul>
                </div>

                <div class="abstract-card">
                    <h2 class="abstract-section-title">Aims</h2>
                    <p class="text-sm mb-1">To explore the feasibility of rapid ramp-up of BsAb (epcoritamab or glofitamab) in patients with R/R LBCL.</p>
                </div>

                <div class="abstract-card">
                    <h2 class="abstract-section-title">Methods & Study Design</h2>
                    <ul class="list-disc list-inside text-sm space-y-1 mb-3 pl-2">
                        <li>Study Type: Retrospective study in routine practice.</li>
                        <li>Patient Population: R/R LBCL patients who received epcoritamab or glofitamab with a rapid ramp-up schedule (e.g., aiming to ramp up every 2-4 days instead of standard 7 days).</li>
                        <li>Data Collection: Baseline characteristics, BsAb treatment details, adverse events, and treatment responses were analyzed.</li>
                        <li>Statistical Analysis: Descriptive statistics; survival outcomes by Kaplan-Meier method.</li>
                    </ul>
                    <div class="study-design-schema">
                        <h3 class="schema-title">Rapid BsAb Ramp-Up Study Flow</h3>
                        <div class="schema-enrollment">
                            <strong>Eligible Patients (N=35)</strong>
                            <span>R/R LBCL, Received Rapid Ramp-Up BsAb</span>
                        </div>
                        <div class="schema-arrow-down">▼</div>
                        <div class="schema-phase-group">
                            <div class="schema-phase" style="flex-basis: 100%; background-color: var(--sobi-light-blue-bg); border-color: var(--sobi-dark-blue);">
                                <strong>BsAb Treatment (Rapid Ramp-Up)</strong>
                                <span>Epcoritamab or Glofitamab</span>
                                <span>Ramp-up every 2-4 days (vs. standard 7 days)</span>
                                <span>Median time to full dose: 7 days</span>
                            </div>
                        </div>
                        <div class="schema-assessment-points">
                           <span>Safety (CRS, ICANS)</span>
                           <span>Efficacy (ORR, CRR)</span>
                           <span>Survival (PFS, OS)</span>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="abstract-card">
                    <h2 class="abstract-section-title">Patient Characteristics (N=35)</h2>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr><th>Characteristic</th><th>Value</th></tr>
                            </thead>
                            <tbody>
                                <tr><td>Female, n (%)</td><td>17 (49%)</td></tr>
                                <tr><td>Median Age, years (range)</td><td>67 (31-84)</td></tr>
                                <tr><td>ECOG PS ≥2, n (%)</td><td>13/33 (39%)</td></tr>
                                <tr><td>Stage III-IV, n (%)</td><td>27/34 (79%)</td></tr>
                                <tr><td>>1 Extranodal Sites, n (%)</td><td>9/34 (26%)</td></tr>
                                <tr><td>LDH Elevation, n (%)</td><td>27 (77%)</td></tr>
                                <tr><td>Bulky Disease (≥5 cm), n (%)</td><td>17/32 (53%)</td></tr>
                                <tr><td class="pl-4">Bulky Disease (≥10 cm), n (%)</td><td>6/32 (19%)</td></tr>
                                <tr><td>Known CNS Involvement, n (%)</td><td>6 (17%)</td></tr>
                                <tr><td>DLBCL Diagnosis Type, n (%)</td><td></td></tr>
                                <tr><td class="pl-4">DLBCL, NOS</td><td>19 (54%)</td></tr>
                                <tr><td class="pl-4">Transformed DLBCL</td><td>9 (26%)</td></tr>
                                <tr><td class="pl-4">Double Hit Lymphoma</td><td>7 (20%)</td></tr>
                                <tr><td>Primary Refractory / Early Relapse (<12mo), n (%)</td><td>26 (74%)</td></tr>
                                <tr><td>Prior CAR T-cell Therapy, n (%)</td><td>21 (60%)</td></tr>
                                <tr><td>Median Prior Lines of Therapy (range)</td><td>3 (2-9)</td></tr>
                                <tr><td>Refractory to Last Line Pre-BsAb, n (%)</td><td>20/32 (63%)</td></tr>
                                <tr><td>BsAb Received:</td><td></td></tr>
                                <tr><td class="pl-4">Epcoritamab</td><td>23 Pts</td></tr>
                                <tr><td class="pl-4">Glofitamab</td><td>12 Pts (11 pre-dose Obi)</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                 <div class="abstract-card">
                    <h2 class="abstract-section-title">Safety: CRS & ICANS During Rapid Ramp-Up</h2>
                    <div class="table-container">
                        <table class="safety-table">
                            <caption>Rates of CRS and ICANS during rapid ramp-up of BsAb</caption>
                            <thead>
                                <tr>
                                    <th>Event</th>
                                    <th>Dose</th>
                                    <th>n (%)</th>
                                    <th>Duration (days)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td rowspan="3"><strong>CRS</strong></td><td>1st dose (n=35)</td><td>4 (11.4%) Grade 1-2</td><td>2 (2-3)</td></tr>
                                <tr><td>2nd dose (n=35)</td><td>6 (17.1%) Grade 1-2</td><td>2 (2-2)</td></tr>
                                <tr><td>3rd dose (n=33)</td><td>11 (33.3%) (10 G1-2, 1 G3)</td><td>2 (2-3)</td></tr>
                                <tr><td></td><td><strong>Entire ramp-up (n=35)</strong></td><td><strong>16 (45.7%) (15 G1-2, 1 G3)</strong></td><td><strong>2 (2-6)</strong></td></tr>
                                <tr><td rowspan="3"><strong>ICANS</strong></td><td>1st dose (n=35)</td><td>0</td><td>N/A</td></tr>
                                <tr><td>2nd dose (n=35)</td><td>1 (2.9%) Grade 3</td><td>3</td></tr>
                                <tr><td>3rd dose (n=33)</td><td>4 (12.1%) (2 G1-2, 2 G3)</td><td>2.5 (2-4)</td></tr>
                                <tr><td></td><td><strong>Entire ramp-up (n=35)</strong></td><td><strong>5 (14.3%) (2 G1-2, 3 G3*)</strong></td><td><strong>3 (2-4)</strong></td></tr>
                            </tbody>
                        </table>
                         <p class="footnote-text mt-2">*Among the 3 patients with grade 3 ICANS reported, 2 had alternative explanations of neurological symptoms: one patient had seizure and was found to have CNS involvement by lymphoma, and the other was in septic shock with altered mental status.</p>
                        <p class="footnote-text">No CRS or ICANS was observed with the 4th dose (2nd full dose, n=25).</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid md:grid-cols-1 gap-x-8 gap-y-6 mt-6">
            <div class="abstract-card">
                <h2 class="abstract-section-title">Efficacy Results (Median F/U: 5.7 months)</h2>
                <ul class="list-disc list-inside text-sm space-y-1 pl-2 mb-3">
                    <li>10 patients were still on BsAb at data cutoff.</li>
                    <li>Response evaluable in 28 patients:
                        <ul class="list-circle list-inside ml-4">
                            <li>Overall Response Rate (ORR): 50%</li>
                            <li>Complete Response (CR): 21.4%</li>
                            <li>Partial Response (PR): 28.6%</li>
                        </ul>
                    </li>
                    <li>Rate of continued response at 3 months: 67.1% (95% CI 45.3%-99.6%).</li>
                </ul>
                <div class="chart-container mb-6">
                    <svg id="bsabRapidRampUpResponseChart" width="350" height="280"></svg>
                    <div id="bsabRapidRampUpResponseLegend" class="legend"></div>
                </div>
                <h3 class="abstract-sub-section-title">Survival Outcomes:</h3>
                <ul class="list-disc list-inside text-sm space-y-1 pl-2">
                    <li>3-month PFS rate: 40.2% (95% CI 25.9%-62.5%)</li>
                    <li>6-month PFS rate: 27.6% (95% CI 14.9%-51.2%)</li>
                    <li>3-month OS rate: 62.2% (95% CI 47.3%-81.7%)</li>
                    <li>6-month OS rate: 49.5% (95% CI 33.9%-72.2%)</li>
                </ul>
                 <div class="km-plot-container text-center">
                    <img src="https://placehold.co/600x300/E0F2F7/0A2F5C?text=PFS+and+OS+Curves" alt="Placeholder for Kaplan-Meier curves for PFS and OS">
                    <p class="text-xs meta-info mt-1">Kaplan-Meier curves for PFS and OS (Illustrative Placeholder - actual image not provided in text).</p>
                </div>
            </div>
        </div>

        <div class="abstract-card mt-6">
            <h2 class="abstract-section-title">Summary & Conclusion</h2>
            <ul class="list-disc list-inside text-sm space-y-1 pl-2">
                <li>BsAb rapid ramp-up appears feasible in patients with R/R LBCL.</li>
                <li>CRS and ICANS rates, as well as treatment responses, seem similar to other real-world series utilizing standard ramp-up schedules.</li>
            </ul>
        </div>

        <div class="abstract-card mt-6 abbreviations-list">
            <h2 class="abstract-section-title">Abbreviations</h2>
            <p>AE, Adverse Event; BsAb, Bi-specific Antibody; CAR, Chimeric Antigen Receptor; CI, Confidence Interval; CNS, Central Nervous System; CR, Complete Response; CRS, Cytokine Release Syndrome; DHL, Double Hit Lymphoma; DLBCL, Diffuse Large B-cell Lymphoma; ECOG PS, Eastern Cooperative Oncology Group Performance Status; FDA, Food and Drug Administration; F/U, Follow-up; G, Grade; ICANS, Immune effector Cell-Associated Neurotoxicity Syndrome; LBCL, Large B-cell Lymphoma; LDH, Lactate Dehydrogenase; LOT, Lines of Therapy; mo, Months; NE, Not Estimable; NOS, Not Otherwise Specified; Obi, Obinutuzumab; ORR, Overall Response Rate; OS, Overall Survival; PFS, Progression-Free Survival; PR, Partial Response; R/R, Relapsed/Refractory; tDLBCL, Transformed Diffuse Large B-cell Lymphoma.</p>
        </div>

        <div class="abstract-card mt-6 reference-section">
            <h2 class="abstract-section-title">
                Reference
                <button id="copyReferenceBtn" class="copy-reference-button" title="Copy Reference">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M7 3.5A1.5 1.5 0 018.5 2h3.879a1.5 1.5 0 011.06.44l3.122 3.121A1.5 1.5 0 0117 6.621V16.5a1.5 1.5 0 01-1.5 1.5h-7A1.5 1.5 0 017 16.5v-13z" />
                        <path d="M4.5 6A1.5 1.5 0 003 7.5v10A1.5 1.5 0 004.5 19h7a1.5 1.5 0 001.5-1.5v-2.5a.75.75 0 00-1.5 0v2.5a.5.5 0 01-.5.5h-7a.5.5 0 01-.5-.5v-10a.5.5 0 01.5-.5h2.5a.75.75 0 000-1.5H4.5z" />
                    </svg>
                    Copy
                </button>
            </h2>
            <p id="referenceSectionContent">Wang Y, Nedved A, Larson M, et al. Rapid ramp-up of bi-specific antibodies in relapsed or refractory large B-cell lymphoma. Abstract #PS1949 presented at the European Hematology Association (EHA) Congress. 12–15 June 2025, Milan, Italy.</p>
        </div>

        <div class="abstract-footer-info">
            <p>EHA 2025 Congress | Abstract #PS1949 | Abstract Release: 05/14/2025 | Presentation: 06/14/2025</p>
            <p>For Research & Informational Purposes Only.</p>
        </div>
    </div>

    <script defer src="abstract_features.js"></script>
    <script>
        function drawBsabRapidRampUpResponseChart(containerId, legendContainerId) {
            // Data for N=28 evaluable: ORR 50%, CR 21.4%, PR 28.6%
            // Other (SD/PD/NR) = 100 - 50 = 50%
            const chartData = {
                keys: ["CR", "PR", "Other (SD/PD/NR)"],
                values: {
                    CR: 21.4,
                    PR: 28.6,
                    "Other (SD/PD/NR)": 50.0
                },
                colors: ["var(--sobi-teal)", "var(--sobi-yellow)", "var(--sobi-medium-gray-text)"],
                orr: 50.0
            };
            const chartTitle = "Response to Rapid BsAb Ramp-Up (N=28 Evaluable)";

            const svg = d3.select(containerId);
            const legendContainer = d3.select(legendContainerId);

            svg.selectAll("*").remove();
            legendContainer.selectAll("*").remove();

            let containerWidth = 350;
            const chartWrapper = svg.node() ? svg.node().closest('.chart-container') : null;
            if (chartWrapper) {
                containerWidth = Math.max(chartWrapper.getBoundingClientRect().width * 0.85, 280);
            }

            const svgWidth = containerWidth;
            const svgHeight = +svg.attr("height");

            const margin = { top: 40, right: 20, bottom: 30, left: 50 };
            const chartWidth = svgWidth - margin.left - margin.right;
            const chartHeight = svgHeight - margin.top - margin.bottom;

            if (chartWidth <= 0 || chartHeight <= 0) return;

            const g = svg.append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            const categories = ["Response"];
            const stack = d3.stack().keys(chartData.keys.filter(key => chartData.values[key] > 0));
            const stackedData = stack([chartData.values]);

            const xScale = d3.scaleBand()
                .domain(categories)
                .range([0, chartWidth])
                .padding(0.6);

            const yScale = d3.scaleLinear()
                .domain([0, 100])
                .range([chartHeight, 0]);

            g.append("g")
                .attr("transform", `translate(0,${chartHeight})`)
                .call(d3.axisBottom(xScale).tickValues([]))
                .select(".domain").remove();

            g.append("g")
                .call(d3.axisLeft(yScale).ticks(5).tickFormat(d => d + "%"))
                .selectAll("text")
                .attr("class", "axis-text")
                .style("font-size", "10px");

            g.append("g")
                .attr("class", "grid")
                .call(d3.axisLeft(yScale)
                    .ticks(5)
                    .tickSize(-chartWidth)
                    .tickFormat("")
                )
                .selectAll("line")
                .style("stroke", "#e0e0e0")
                .style("stroke-opacity", "0.7");

            const color = d3.scaleOrdinal()
                .domain(chartData.keys)
                .range(chartData.colors);

            g.selectAll(".serie")
                .data(stackedData)
                .enter().append("g")
                  .attr("class", "serie")
                .selectAll("rect")
                .data(d => d)
                .enter().append("rect")
                    .attr("x", d => xScale(categories[0]))
                    .attr("y", d => yScale(d[1]))
                    .attr("height", d => Math.max(0, yScale(d[0]) - yScale(d[1])))
                    .attr("width", xScale.bandwidth())
                    .attr("fill", (d, i, nodes) => {
                        const seriesKey = d3.select(nodes[i].parentNode).datum().key;
                        return color(seriesKey);
                    })
                    .attr("rx", 3).attr("ry", 3);

            stackedData.forEach((series) => {
                series.forEach((d) => {
                    const y0 = d[0];
                    const y1 = d[1];
                    const percentage = y1 - y0;
                    if (percentage > 5) {
                        g.append("text")
                            .attr("class", "chart-label")
                            .attr("x", xScale(categories[0]) + xScale.bandwidth() / 2)
                            .attr("y", yScale(y0 + percentage / 2) + 4)
                            .attr("text-anchor", "middle")
                            .style("fill", (series.key === 'Other (SD/PD/NR)' && percentage > 15) ? "white" : "var(--sobi-dark-text)")
                            .style("font-size", "10px")
                            .style("font-weight", "bold")
                            .text(`${percentage.toFixed(1)}%`);
                    }
                });
            });
             if (chartData.orr) {
                 g.append("text")
                    .attr("class", "chart-label orr-label")
                    .attr("x", xScale(categories[0]) + xScale.bandwidth() / 2)
                    .attr("y", yScale(chartData.orr) - 8)
                    .attr("text-anchor", "middle")
                    .style("font-weight", "600")
                    .style("font-size", "10px")
                    .style("fill", "var(--sobi-dark-blue)")
                    .text(`ORR: ${chartData.orr.toFixed(1)}%`);
            }

            svg.append("text")
                .attr("x", svgWidth / 2)
                .attr("y", margin.top / 2 + 5)
                .attr("text-anchor", "middle")
                .style("font-size", "13px")
                .style("font-weight", "600")
                .style("fill", "var(--sobi-dark-blue)")
                .text(chartTitle);

            const legendData = chartData.keys.filter(key => chartData.values[key] > 0).map(key => ({
                label: `${key} (${chartData.values[key].toFixed(1)}%)`,
                color: color(key)
            }));

            const legendItems = legendContainer.selectAll(".legend-item")
                .data(legendData).enter().append("div").attr("class", "legend-item");
            legendItems.append("div").attr("class", "legend-color-box").style("background-color", d => d.color);
            legendItems.append("span").text(d => d.label);
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        };

        const debouncedDrawChartPS1949 = debounce(() => drawBsabRapidRampUpResponseChart("#bsabRapidRampUpResponseChart", "#bsabRapidRampUpResponseLegend"), 250);

        window.addEventListener('resize', debouncedDrawChartPS1949);

        document.addEventListener('DOMContentLoaded', () => {
            debouncedDrawChartPS1949();
        });
        if (document.readyState === "complete" || document.readyState === "interactive") {
             setTimeout(debouncedDrawChartPS1949, 0);
        }
    </script>
</body>
</html>